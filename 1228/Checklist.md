# Checklist

# Token
## 토큰 기반 인증 vs 세션 기반 인증
>https://blog.lgcns.com/2687
- 세션 기반 인증: HTTP의 경우 Stateless 성질로, 기본적으로는 누가 자신에게 요청을 했는지 서버가 알 수가 없다. 이게 뭐가 문제냐 하면, 한번 로그인 했는데, 얘가 누군질 모르니까 페이지를 이동할 때마다 로그인 인증을 요청해야 하는 것이다. 이를 해결하는 방법 중 하나가 세션 기반 인증이다., 한번 로그인에 성공하면 서버는 세션을 발급한다. 이 세션은 클라이언트의 상태를 세션 스토리지에 저장. 클라이언트 또한 자신의 세션값을 저장하고 이를 통해 클라이언트는 데이터 요청 시 세션이 포함된 쿠키를 함께 보내고, 서버는 이 세션으로 이녀석이 로그인 된 상태인지 아닌지 구분할 수 있다.

- 토큰 기반 인증: 토큰은 사용자 인증을 위한 정보를 서명한 것이다. 세션 기반 인증은 클라이언트의 상태를 서버 내에 저장, 요청마다 세션의 유효성을 검증한다. 반면 토큰 기반은 사용자 인증을 위한 정보 자체가 토큰에 있기 때문에, 서버에 사용자 정보를 저장하지 않고, 전달받은 토큰자체를 검증하는 것으로 인증이 가능하다.

- 가장 큰 차이점은 결국 서버측에서 이를 별도의 스토리지에 저장을 하냐 안하느냐의 차이
- 세션 값 자체에는 정보가 없지만 토큰은 정보가 포함된다. 그래서 토큰이 일반적으로 길이가 더 길다.

## JWT(JSON Web Token)
- 어플리케이션의 액세스 토큰을 만드는데 주로 사용
- 데이터들이 JSON형태로 저장
- 데이터를 공개/개인키로 서명해 사용
### Header, payload, signature
각 header, payload, signature는 Base64로 인코딩 되어 긴 문자열로 저장이 되는데 각 구조 마다 .으로 구분되어 표시된다.

- 헤더는 토큰의 타입을 명시, 
```
{
    "alg": "HS256",
    "typ": "JWT"
}
```

- 페이로드는 토큰에 담을 데이터를 포함하고 있다.
- 서명은 헤더와 페이로드를 서명한 값으로 비밀 키를 가지고 해싱 알고리즘으로 서명한다. 이를 서버는 같은 알고리즘으로 해석하여 유효한 토큰인지 검사한다.

## Authentication vs Authorization
|Authentication|Authorization|
|-|-|
|인증은 사용자가 누구인지 확인합니다.|권한 부여는 사용자가 액세스할 수 있는 리소스를 결정합니다.|
|인증은 비밀번호, 일회용 핀, 생체 정보 및 사용자가 제공하거나 입력한 기타 정보를 통해 작동합니다.|권한 부여는 조직에서 구현하고 유지 관리하는 설정을 통해 작동합니다.|
|인증은 올바른 ID 및 액세스 관리 프로세스의 첫 번째 단계입니다.|Authorization always takes place after authentication.|
|인증은 사용자가 볼 수 있고 부분적으로 변경할 수 있습니다.|권한 부여는 사용자에게 표시되거나 변경할 수 없습니다.|
|예: 직원은 신원을 확인하여 개인 급여 정보, 휴가 시간 및 401K 데이터가 포함된 HR 애플리케이션에 액세스할 수 있습니다.|예: 액세스 수준이 승인되면 직원과 HR 관리자는 조직에서 설정한 권한에 따라 다양한 수준의 데이터에 액세스할 수 있습니다|

## OAuth
https://www.varonis.com/blog/what-is-oauth/ (제대로 못읽음)